<!-- LOCAL STORAGE -->

<html>

<head></head>
<style>
    #root {
        background-color: tomato;
        color: white;
        font-size: 2em;
        text-align: center;
        height: 100vh;
    }
</style>

<body>
    <!-- konten start -->
    <div id="root">
        <input type="text" placeholder="username" id="usernameInput" />
        <input type="password" placeholder="password" id="passwordInput" />
        <button onclick="onLogin()" id="loginButton">LOGIN</button>
        <button onclick="onLogout()" id="logoutButton">LOGOUT</button>
        <br />
        <br />
        <h1 id="admin">LOGIN SEBAGAI ADMIN</h1>
        <h1 id="basic">LOGIN SEBAGAI USER BASIC</h1>
        <h1 id="operator">LOGIN SEBAGAI OPERATOR</h1>
    </div>
    <!-- konten end -->

    <!-- javascript -->
    <script type="application/javascript">
        let usernameInput = document.getElementById('usernameInput');
        let passwordInput = document.getElementById('passwordInput');
        let loginButton = document.getElementById('loginButton');
        let logoutButton = document.getElementById('logoutButton');
        let admin = document.getElementById('admin');
        let basic = document.getElementById('basic');
        let operator = document.getElementById('operator');


        // mwnghilangkan admin dan basic ketika pertama kali di display
        admin.style.display = "none";
        basic.style.display = "none";
        logoutButton.style.display = "none";
        operator.style.display = "none";

        function onLogin() {
            // console.log('tombol login di klik');
            // // value maksdunya memanggil isi dari variabel
            // console.log(usernameInput.value);
            // console.log(passwordInput.value);
            // untuk lokal storage ("key", value) value itu yg diisikan di username
            localStorage.setItem("username", usernameInput.value);
            // local storage end
            logoutButton.style.display = "block";

            if (usernameInput.value == "op" && passwordInput.value == "op123") {
                usernameInput.style.display = "none";
                passwordInput.style.display = "none";
                loginButton.style.display = "none";
                admin.style.display = "none";
                basic.style.display = "none";
                operator.style.display = "block";
                localStorage.setItem("role", "operator");
            }

            if (usernameInput.value == "fatih" && passwordInput.value == "123") {
                // alert itu muncul notif
                // alert('login sebagai ADMIN');
                usernameInput.style.display = "none";
                passwordInput.style.display = "none";
                loginButton.style.display = "none";
                // dibuat role localstoragenya
                localStorage.setItem("role", "admin");
                // styling agar muncul ketika di klik
                admin.style.display = "block";
                basic.style.display = "none";

                
            } 
            else {
                // alert('user login biasa');
                usernameInput.style.display = "none";
                passwordInput.style.display = "none";
                loginButton.style.display = "none";
                localStorage.setItem("role", "basic");
                basic.style.display = "block";
                admin.style.display = "none";
                operator.style.display = "none";
            }
        }

        // jika ada usernmae di localbrowser storage
        if (localStorage.getItem('username')) {
            // maka hide smua display
            usernameInput.style.display = "none";
            passwordInput.style.display = "none";
            loginButton.style.display = "none";
            // munculkan logout button
            logoutButton.style.display = "block";
            //  jika di dalam localstorage ada role == admin
            if (localStorage.getItem('role') == "admin") {
                // maka tampilkan display login admin 
                admin.style.display = "block";
                basic.style.display = "none";
            } else {
                // jika tidak ada role admin, maka munculkan display basic
                basic.style.display = "block";
                admin.style.display = "none";
            }
        }

        function onLogout() {
            localStorage.clear();
            location.reload();
        }
    </script>
</body>

</html>


<!-- <script type="application/javascript">
    const myName = " Fatih Ganteng";
    const myHobby = " Main Titid ";
    let root = document.getElementById('root');
    // isi konten di dalam div lewat script
    // + membuat banyak var di dalam root
    root.textContent = myName + myHobby;
    // styling di javacript, logo - di css diganti huruf besar awal di js
    root.style.backgroundColor = "tomato";
    root.style.color = "green";
    root.style.textAlign = "center";
    root.style.fontSize = "5em";
    root.style.height = "100vh";
</script> -->